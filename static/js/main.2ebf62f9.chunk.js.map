{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","services/services.js","components/Button/Button.jsx","components/Loader/Loader.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","queryValue","handleChange","e","setState","target","value","handleSubmit","ev","preventDefault","trim","onSubmit","props","this","className","s","SearchForm","type","SearchForm_button","SearchForm_button_label","onChange","SearchForm_input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","img","getElem","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItem_image","onClick","modalRoot","document","getElementById","Modal","componentDidMount","handleEsc","window","addEventListener","componentWillUnmount","removeEventListener","onClose","code","handleCloseModal","currentTarget","children","createPortal","Overlay","ImageGallery","showModal","largeSrc","largeAlt","toggleModal","gallery","map","id","query","page","a","axios","defaults","baseURL","url","get","response","data","Button","onClickBtn","Spinner","color","height","width","timeout","getFetch","getImages","App","perPage","totalHits","msg","error","isLoading","fetchGallery","then","hits","length","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","onSubmitForm","searchQuery","incrementPage","clickBtn","prevProps","prevState","ReactDOM","render","StrictMode"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,wCCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,gKCoDZC,E,4MAjDbC,MAAQ,CACNC,WAAY,I,EAGdC,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZH,WAAYE,EAAEE,OAAOC,S,EAIzBC,aAAe,SAAAC,IACbA,EAAGC,iBAEkC,KAAjC,EAAKT,MAAMC,WAAWS,WAI1BC,EADqB,EAAKC,MAAlBD,UACC,EAAKX,MAAMC,YAEpB,EAAKG,SAAS,CACZH,WAAY,O,4CAIhB,WAAU,IACAC,EAA+BW,KAA/BX,aAAcK,EAAiBM,KAAjBN,aAEtB,OACE,wBAAQO,UAAWC,IAAEhB,UAArB,SACE,uBAAMe,UAAWC,IAAEC,WAAYL,SAAUJ,EAAzC,UACE,wBAAQU,KAAK,SAASH,UAAWC,IAAEG,kBAAnC,SACE,sBAAMJ,UAAWC,IAAEI,wBAAnB,sBAGF,uBACEC,SAAUlB,EACVI,MAAOO,KAAKb,MAAMC,WAClBa,UAAWC,IAAEM,iBACbJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA1CAC,a,kCC0BTC,EAzBU,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,IAAKC,EAAc,EAAdA,QACvBC,EAAsCF,EAAtCE,aAAcC,EAAwBH,EAAxBG,KAAMC,EAAkBJ,EAAlBI,cAC5B,OACE,oBAAIjB,UAAWC,IAAEW,iBAAjB,SACE,qBACEM,IAAKH,EACLI,IAAKH,EACLhB,UAAWC,IAAEmB,uBACbC,QAAS,WACPP,EAAQG,EAAeD,S,wBCR3BM,EAAYC,SAASC,eAAe,cA8C3BC,E,4MA3CbvC,MAAQ,G,EAERwC,kBAAoB,WAAO,IACjBC,EADgB,eAChBA,UACRC,OAAOC,iBAAiB,UAAWF,I,EAGrCG,qBAAuB,WAAO,IACpBH,EADmB,eACnBA,UACRC,OAAOG,oBAAoB,UAAWJ,I,EAGxCA,UAAY,SAAAtC,GAAM,IACR2C,EAAY,EAAKlC,MAAjBkC,QACO,WAAX3C,EAAE4C,MACJD,K,EAIJE,iBAAmB,SAAA7C,GAAM,IACf2C,EAAY,EAAKlC,MAAjBkC,QACJ3C,EAAEE,SAAWF,EAAE8C,eACjBH,K,4CAIJ,WAAU,IACAE,EAAqBnC,KAArBmC,iBACAE,EAAarC,KAAKD,MAAlBsC,SAER,OAAOC,uBACL,qBAAKrC,UAAWC,IAAEqC,QAASjB,QAASa,EAApC,SACE,qBAAKlC,UAAWC,IAAEwB,MAAlB,SAA0BW,MAE5Bd,O,GAnCcX,aC6DL4B,E,4MA7DbrD,MAAQ,CACNsD,WAAW,EACXC,SAAU,GACVC,SAAU,I,EAGZC,YAAc,WACZ,EAAKrD,UAAS,kBAAoB,CAChCkD,WADY,EAAGA,UAEfC,SAAU,GACVC,SAAU,Q,EAId5B,QAAU,SAAC2B,EAAUC,GAEnB,EAAKC,cAEL,EAAKrD,SAAS,CACZmD,WACAC,c,4CAIJ,WAAU,IACAE,EAAY7C,KAAKD,MAAjB8C,QADD,EAEmC7C,KAAKb,MAAvCsD,EAFD,EAECA,UAAWC,EAFZ,EAEYA,SAAUC,EAFtB,EAEsBA,SACrBC,EAAyB5C,KAAzB4C,YAAa7B,EAAYf,KAAZe,QAErB,OACE,qCACE,oBAAId,UAAWC,IAAEsC,aAAjB,SACGK,EAAQC,KAAI,SAAAD,GACX,OACE,cAAC,EAAD,CAEE/B,IAAK+B,EACL9B,QAASA,GAFJ8B,EAAQE,SAQpBN,GACC,cAAC,EAAD,CAAOR,QAASW,EAAhB,SACG,qBAAKzB,IAAKuB,EAAUtB,IAAKuB,a,GA9CX/B,a,sFCJ3B,WAAwBoC,EAAOC,GAA/B,mBAAAC,EAAA,iGAGEC,IAAMC,SAASC,QAAf,2BACIC,EAJN,aAIkBN,EAJlB,iBAIgCC,EAJhC,sHAMyBE,IAAMI,IAAID,GANnC,cAMQE,EANR,gBAOqBA,EAASC,KAP9B,cAOQA,EAPR,yBAUSA,GAVT,6C,sBAae,M,+DCCAC,EAZA,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAChB,OACE,wBAAQvD,KAAK,SAASH,UAAWC,IAAEwD,OAAQpC,QAASqC,EAApD,wB,yBCSWC,EAZC,WACd,OACE,cAAC,IAAD,CACExD,KAAK,OACLyD,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,OCDPC,EAAaC,EAyGNC,E,4MAtGbhF,MAAQ,CACN6D,MAAO,GACPC,KAAM,EACNmB,QAAS,GACTC,UAAW,KACXxB,QAAS,GACTyB,IAAK,GACLC,MAAO,GACPC,WAAW,G,EAoBbC,aAAe,WAAO,IAAD,EACc,EAAKtF,MAA9B6D,EADW,EACXA,MAAOC,EADI,EACJA,KAAMJ,EADF,EACEA,QAErB,EAAKtD,SAAS,CAAEiF,WAAW,IAC3BP,EAASjB,EAAOC,GACbyB,MAAK,YAA0B,IAAvBC,EAAsB,EAAtBA,KAAMN,EAAgB,EAAhBA,UACTM,EAAKC,QACP,EAAKrF,SAAS,CACZsD,QAAQ,GAAD,mBAAMA,GAAN,YAAkB8B,IACzBL,IAAK,GACLD,cAEW,IAATpB,GACFpB,OAAOgD,SAAS,CACdC,IAAKtD,SAASuD,gBAAgBC,aAC9BC,SAAU,YAId,EAAK1F,SAAS,CAAE+E,IAAK,wCAGxBY,OAAM,WACL,EAAK3F,SAAS,CACZsD,QAAS,GACT0B,MAAO,aAGVY,SAAQ,kBAAM,EAAK5F,SAAS,CAAEiF,WAAW,Q,EAG9CY,aAAe,SAAAC,GACb,EAAK9F,UAAS,YACZ,GAD2B,EAAZyD,QACDqC,EAEd,MAAO,CACLrC,MAAOqC,EACPpC,KAAM,EACNJ,QAAS,Q,EAKfyC,cAAgB,WACd,EAAK/F,UAAS,kBAAe,CAAE0D,KAAjB,EAAGA,KAA2B,O,EAG9CsC,SAAW,WAET,EAAKD,iB,wDAxDP,SAAmBE,EAAWC,GAAY,IAAD,EACfzF,KAAKb,MAArB6D,EAD+B,EAC/BA,MAAOC,EADwB,EACxBA,KACXD,IAAUyC,EAAUzC,OAASC,IAASwC,EAAUxC,MAClDjD,KAAKyE,iB,oBAwDT,WAAU,IAAD,EACuDzE,KAAKb,MAA3D0D,EADD,EACCA,QAASyB,EADV,EACUA,IAAKrB,EADf,EACeA,KAAMmB,EADrB,EACqBA,QAASC,EAD9B,EAC8BA,UAAWG,EADzC,EACyCA,UACxCe,EAA2BvF,KAA3BuF,SAAUH,EAAiBpF,KAAjBoF,aAElB,OACE,sBAAKnF,UAAWC,IAAEiE,IAAlB,UACE,cAAC,EAAD,CAAWrE,SAAUsF,IAEpBd,GAAO,cAAC,EAAD,KAAe,4BAAIA,IAE3B,cAAC,EAAD,CAAczB,QAASA,IAEtBA,EAAQ+B,OAAS,GAAKP,EAAYpB,EAAOmB,GACxC,cAAC,EAAD,CAAQT,WAAY4B,IAGrBf,GAAa,cAAC,EAAD,W,GAjGJ5D,aCNlB8E,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFpE,SAASC,eAAe,U,kBCR1BzC,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,uC","file":"static/js/main.2ebf62f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__umLYI\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__W_ZK8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__34NGc\",\"Modal\":\"Modal_Modal__BZs9j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3KYoT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2rntW\"};","import { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    queryValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      queryValue: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = ev => {\r\n    ev.preventDefault();\r\n\r\n    if (this.state.queryValue.trim() === '') {\r\n      return;\r\n    }\r\n    const { onSubmit } = this.props;\r\n    onSubmit(this.state.queryValue);\r\n\r\n    this.setState({\r\n      queryValue: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { handleChange, handleSubmit } = this;\r\n\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={handleChange}\r\n            value={this.state.queryValue}\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ img, getElem }) => {\r\n  const { webformatURL, tags, largeImageURL } = img;\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.ImageGalleryItem_image}\r\n        onClick={() => {\r\n          getElem(largeImageURL, tags);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  img: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  }),\r\n  getElem: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.getElementById('root-modal');\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount = () => {\r\n    const { handleEsc } = this;\r\n    window.addEventListener('keydown', handleEsc);\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    const { handleEsc } = this;\r\n    window.removeEventListener('keydown', handleEsc);\r\n  };\r\n\r\n  handleEsc = e => {\r\n    const { onClose } = this.props;\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  handleCloseModal = e => {\r\n    const { onClose } = this.props;\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleCloseModal } = this;\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={handleCloseModal}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    showModal: false,\r\n    largeSrc: '',\r\n    largeAlt: '',\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeSrc: '',\r\n      largeAlt: '',\r\n    }));\r\n  };\r\n\r\n  getElem = (largeSrc, largeAlt) => {\r\n    // console.log(`OOOOO`);\r\n    this.toggleModal();\r\n\r\n    this.setState({\r\n      largeSrc,\r\n      largeAlt,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { gallery } = this.props;\r\n    const { showModal, largeSrc, largeAlt } = this.state;\r\n    const { toggleModal, getElem } = this;\r\n\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {gallery.map(gallery => {\r\n            return (\r\n              <ImageGalleryItem\r\n                key={gallery.id}\r\n                img={gallery}\r\n                getElem={getElem}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n\r\n        {showModal && (\r\n          <Modal onClose={toggleModal}>\r\n            {<img src={largeSrc} alt={largeAlt} />}\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\n\r\nasync function getFetch(query, page) {\r\n  let key = `19680889-1d0fa37b831075dabe336ab4d`;\r\n\r\n  axios.defaults.baseURL = `https://pixabay.com/api/`;\r\n  let url = `?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\r\n\r\n  const response = await axios.get(url);\r\n  const data = await response.data;\r\n  // console.log(data);\r\n  // const hits = await data.hits;\r\n  return data;\r\n}\r\n\r\nexport default { getFetch };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClickBtn }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClickBtn}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClickBtn: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={2000}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import { Component } from 'react';\r\nimport s from './App.css';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport getImages from './services/services';\r\nimport Button from './components/Button/Button';\r\nimport Spinner from './components/Loader/Loader';\r\n\r\nconst { getFetch } = getImages;\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    page: 1,\r\n    perPage: 12,\r\n    totalHits: null,\r\n    gallery: [],\r\n    msg: '',\r\n    error: '',\r\n    isLoading: false,\r\n  };\r\n\r\n  // async componentDidMount() {\r\n  //   console.log(`hi`);\r\n  //   const { query, page } = this.state;\r\n\r\n  //   getFetch(query, page).then(result => {\r\n  //     console.log(result);\r\n  //     this.setState({ gallery: [] });\r\n  //   });\r\n  // }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page } = this.state;\r\n    if (query !== prevState.query || page !== prevState.page) {\r\n      this.fetchGallery();\r\n    }\r\n  }\r\n\r\n  fetchGallery = () => {\r\n    const { query, page, gallery } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n    getFetch(query, page)\r\n      .then(({ hits, totalHits }) => {\r\n        if (hits.length) {\r\n          this.setState({\r\n            gallery: [...gallery, ...hits],\r\n            msg: '',\r\n            totalHits,\r\n          });\r\n          if (page !== 1) {\r\n            window.scrollTo({\r\n              top: document.documentElement.scrollHeight,\r\n              behavior: 'smooth',\r\n            });\r\n          }\r\n        } else {\r\n          this.setState({ msg: 'Nothing to show by your request!' });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        this.setState({\r\n          gallery: [],\r\n          error: 'error',\r\n        });\r\n      })\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  onSubmitForm = searchQuery => {\r\n    this.setState(({ query }) => {\r\n      if (query === searchQuery) return;\r\n\r\n      return {\r\n        query: searchQuery,\r\n        page: 1,\r\n        gallery: [],\r\n      };\r\n    });\r\n  };\r\n\r\n  incrementPage = () => {\r\n    this.setState(({ page }) => ({ page: page + 1 }));\r\n  };\r\n\r\n  clickBtn = () => {\r\n    // console.log(`Button`);\r\n    this.incrementPage();\r\n  };\r\n\r\n  render() {\r\n    const { gallery, msg, page, perPage, totalHits, isLoading } = this.state;\r\n    const { clickBtn, onSubmitForm } = this;\r\n\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={onSubmitForm} />\r\n\r\n        {msg && <Spinner /> && <p>{msg}</p>}\r\n\r\n        <ImageGallery gallery={gallery} />\r\n\r\n        {gallery.length > 0 && totalHits > page * perPage && (\r\n          <Button onClickBtn={clickBtn} />\r\n        )}\r\n\r\n        {isLoading && <Spinner />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__14z02\",\"SearchForm\":\"Searchbar_SearchForm__2gSMw\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2SE7J\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__wheIy\",\"SearchForm_input\":\"Searchbar_SearchForm_input__wKQSZ\"};"],"sourceRoot":""}